<!DOCTYPE html>
<html lang="en">
<head>
    <title>dev - alignment - bam</title>
</head>

<body>

<div id="igvDiv" style="padding-top: 50px;padding-bottom: 20px; height: auto"></div>

<script type="module">

    import igv from "../../js/index.js"

    const config =
        {
            genome: 'hg19',
            locus: 'chr1:155,153,822-155,155,105',
            tracks:
                [
                    {
                        type: "alignment",
                        url: "https://1000genomes.s3.amazonaws.com/phase3/data/NA19625/exome_alignment/NA19625.mapped.ILLUMINA.bwa.ASW.exome.20120522.bam",
                        indexURL: "https://1000genomes.s3.amazonaws.com/phase3/data/NA19625/exome_alignment/NA19625.mapped.ILLUMINA.bwa.ASW.exome.20120522.bam.bai",
                        name: "NA12878 - cache on",
                    },
                ]
        };

    const config_pacbio =
        {
            "version": "2.15.3",
            "showSampleNames": false,
            "reference": {
                "id": "hg19",
                "name": "Human (GRCh37/hg19)",
                "fastaURL": "https://igv-genepattern-org.s3.amazonaws.com/genomes/seq/hg19/hg19.fasta",
                "indexURL": "https://igv-genepattern-org.s3.amazonaws.com/genomes/seq/hg19/hg19.fasta.fai",
                "cytobandURL": "https://igv-genepattern-org.s3.amazonaws.com/genomes/seq/hg19/cytoBand.txt",
                "aliasURL": "https://s3.amazonaws.com/igv.org.genomes/hg19/hg19_alias.tab",
                "chromosomeOrder": "chr1, chr2, chr3, chr4, chr5, chr6, chr7, chr8, chr9, chr10, chr11, chr12, chr13, chr14, chr15, chr16, chr17, chr18, chr19, chr20, chr21, chr22, chrX, chrY"
            },
            "locus": "chr17:64,040,802-64,045,633",
            "roi": [],
            "tracks": [
                {
                    "type": "sequence",
                    "order": -9007199254740991
                },
                {
                    "id": "sniffles",
                    "url": "https://s3.amazonaws.com/igv.org.demo/SKBR3/reads_lr_skbr3.fa_ngmlr-0.2.3_mapped.bam.sniffles1kb_auto_l8_s5_noalt_filtered.tra.vcf",
                    "type": "variant",
                    "format": "vcf",
                    "name": "Translocations (Sniffles)",
                    "supportsWholeGenome": true,
                    "visibilityWindow": -1,
                    "showGenotypes": false,
                    "height": 40,
                    "order": 1
                },
                {
                    "url": "https://s3.amazonaws.com/igv.org.demo/SKBR3/reads_lr_skbr3.fa_ngmlr-0.2.3_mapped.bam",
                    "indexURL": "https://s3.amazonaws.com/igv.org.demo/SKBR3/reads_lr_skbr3.fa_ngmlr-0.2.3_mapped.bam.bai",
                    "type": "alignment",
                    "format": "bam",
                    "name": "Alignments",
                    "height": 500,
                    "visibilityWindow": 10000,
                    "hideSmallIndels": true,
                    "indelSizeThreshold": 100,
                    "showSoftClips": true,
                    "order": 2,
                    "alleleFreqThreshold": 0.2
                },
                {
                    "name": "Refseq Genes",
                    "format": "refgene",
                    "id": "hg19_genes",
                    "url": "https://hgdownload.soe.ucsc.edu/goldenPath/hg19/database/ncbiRefSeq.txt.gz",
                    "indexed": false,
                    "removable": false,
                    "order": 1000000,
                    "infoURL": "https://www.ncbi.nlm.nih.gov/gene/?term=$$",
                    "type": "annotation"
                }
            ]
        };

    const config_short_query =
        {
            "version": "2.15.3",
            "showSampleNames": false,
            "reference": {
                "id": "hg19",
                "name": "Human (GRCh37/hg19)",
                "fastaURL": "https://igv-genepattern-org.s3.amazonaws.com/genomes/seq/hg19/hg19.fasta",
                "indexURL": "https://igv-genepattern-org.s3.amazonaws.com/genomes/seq/hg19/hg19.fasta.fai",
                "cytobandURL": "https://igv-genepattern-org.s3.amazonaws.com/genomes/seq/hg19/cytoBand.txt",
                "aliasURL": "https://s3.amazonaws.com/igv.org.genomes/hg19/hg19_alias.tab",
                "chromosomeOrder": "chr1, chr2, chr3, chr4, chr5, chr6, chr7, chr8, chr9, chr10, chr11, chr12, chr13, chr14, chr15, chr16, chr17, chr18, chr19, chr20, chr21, chr22, chrX, chrY"
            },
            "locus": "chr5:59,690,823-59,691,910",
            "roi": [],
            "tracks": [
                {
                    "type": "sequence",
                    "order": -9007199254740991
                },
                {
                    "sourceType": "gcs",
                    "type": "alignment",
                    "url": "gs://genomics-public-data/platinum-genomes/bam/NA12889_S1.bam",
                    "indexURL": "gs://genomics-public-data/platinum-genomes/bam/NA12889_S1.bam.bai",
                    "name": "NA12889",
                    "format": "bam",
                    "alleleFreqThreshold": 0.2,
                    "order": 4
                },
                {
                    "name": "Refseq Genes",
                    "format": "refgene",
                    "id": "hg19_genes",
                    "url": "https://hgdownload.soe.ucsc.edu/goldenPath/hg19/database/ncbiRefSeq.txt.gz",
                    "indexed": false,
                    "removable": false,
                    "order": 1000000,
                    "infoURL": "https://www.ncbi.nlm.nih.gov/gene/?term=$$",
                    "type": "annotation"
                }
            ]
        };

    igv.createBrowser(document.getElementById('igvDiv'), config_short_query)
        .then(browser => {
            console.log(`browser ${ browser.guid } is good to go`)
        })


</script>

</body>

</html>
