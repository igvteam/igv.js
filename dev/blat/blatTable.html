<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Table example</title>


</head>
<body>

<button id="showTableButton">Show Table</button>

<div id='igv-container' style="padding-top: 50px;padding-bottom: 20px; height: auto">

</div>

<script type="module">

    import igv from '../../js/index.js'
    import BlatTable from '../../js/blat/blatTable.js'

    const sequence =
        'CTAATCAtctacactggtttctactgaaatgtctgttgtcatagacttaattgtgtcttcagatacagcagttctgttatttctgagttttacctggggcaagagaatctttagcaagtttaaaggcacctatatctggaatcacccctccctccagatgaatatcacagactctcccattaaaggtcttgccTTCCTTGATAGCATCATCACTCCA'

    const tableData =
        {
            rows:
                [
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                    ["chr8", "128747591", "128749088", "+", "1000", "1477", "0", "0", "0", "0", "0", "0", "0"],
                    ["chr1", "6291474", "6535355", "+", "28", "46", "0", "0", "0", "1", "111", "2", "243835"],
                ]
        };

    const options =
        {
            genome: 'hg19',
            locus: 'myc',
        };
    igv.createBrowser(document.getElementById('igv-container'), options)
        .then(browser => {

            const config =
                {
                    browser,
                    parent: document.getElementById('igv-container'),
                    headerTitle: 'BLAT Results',
                    description: `${ sequence }${ sequence }${ sequence }${ sequence }${ sequence }${ sequence }`,                    dismissHandler: () => blatTable.dismiss(),
                    columnFormat: BlatTable.getColumnFormatConfiguration(),
                    gotoButtonHandler: BlatTable.gotoButtonHandler
                }

            const blatTable = new BlatTable(config)

            document.getElementById('showTableButton').addEventListener('click', () => {
                blatTable.renderTable(tableData.rows)
                blatTable.present()
            })
        })



</script>

</body>
</html>
