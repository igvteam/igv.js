<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <meta content="" name="description">
    <meta content="" name="author">
    <link href=https://igv.org/web/img/favicon.ico rel="shortcut icon">
    <title>IGV - Dev</title>

</head>

<body>

<h2>Tests loading a session with a user-defined ROI set</h2>

<div id="myDiv" style="padding-top: 50px;padding-bottom: 20px; height: auto">

</div>

<script type="module">

    import igv from "../../js/index.js"

    const session = {
        "version": "2.12.6",
        "showSampleNames": false,
        "reference": {
            "id": "hg19",
            "name": "Human (GRCh37/hg19)",
            "fastaURL": "https://s3.amazonaws.com/igv.broadinstitute.org/genomes/seq/hg19/hg19.fasta",
            "indexURL": "https://s3.amazonaws.com/igv.broadinstitute.org/genomes/seq/hg19/hg19.fasta.fai",
            "cytobandURL": "https://s3.amazonaws.com/igv.broadinstitute.org/genomes/seq/hg19/cytoBand.txt",
            "aliasURL": "https://s3.amazonaws.com/igv.org.genomes/hg19/hg19_alias.tab",
            "chromosomeOrder": "chr1, chr2, chr3, chr4, chr5, chr6, chr7, chr8, chr9, chr10, chr11, chr12, chr13, chr14, chr15, chr16, chr17, chr18, chr19, chr20, chr21, chr22, chrX, chrY"
        },
        "locus": "chr4:57,217,983-57,805,688",
        "roi": [
            {
                "features": [
                    {
                        "chr": "chr4",
                        "start": 57482584,
                        "end": 57540635
                    },
                    {
                        "chr": "chr4",
                        "start": 57563585,
                        "end": 57627486
                    }
                ],
                "isUserDefined": true
            }
        ],
        "tracks": [
            {
                "type": "sequence",
                "order": -9007199254740991
            },
            {
                "name": "Refseq Genes",
                "format": "refgene",
                "id": "hg19_genes",
                "url": "https://s3.amazonaws.com/igv.org.genomes/hg19/ncbiRefSeq.sorted.txt.gz",
                "indexURL": "https://s3.amazonaws.com/igv.org.genomes/hg19/ncbiRefSeq.sorted.txt.gz.tbi",
                "visibilityWindow": -1,
                "supportsWholeGenome": false,
                "removable": false,
                "order": 1000000,
                "infoURL": "https://www.ncbi.nlm.nih.gov/gene/?term=$$",
                "type": "annotation"
            }
        ]
    }

    igv.createBrowser(document.getElementById("myDiv"), {genome: "hg19"})
        .then(function (browser) {
            browser.loadSession(session)

        })

</script>

</body>

</html>
