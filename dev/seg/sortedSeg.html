<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="Jim Robinson" name="author">
    <link href=img/favicon.ico rel="shortcut icon">
    <title>igv.js</title>

</head>

<body>

<h1>Segmented Copy Number</h1>
<p>
    <button id="logSession">Log Session</button>
<p>
<div id="igv-div" style="padding-top: 10px;padding-bottom: 10px; border:1px solid lightgray"></div>

<script type="module">

    import igv from "../../js/index.js"

    const version = igv.version()
    console.log("Using IGV version: " + version)

    const igvDiv = document.getElementById("igv-div")
    const options =
        {
            genome: "hg19",
            showSampleNames: true,
            tracks: [
                {
                    name: "Segmented Copy Number",
                    type: "seg",
                    format: "seg",
                    url: "https://raw.githubusercontent.com/igvteam/igv-data/refs/heads/main/data/test/gbm/Broad.080528.subtypes.seg.gz",
                    sort: {
                        direction: "ASC",
                        chr: "chr10",
                        position: 75737397
                    }
                }
            ]
        }


    igv.createBrowser(igvDiv, options)
        .then(function (browser) {
            document.getElementById("logSession").addEventListener("click", () => console.log(browser.toJSON()))
        })


</script>

</body>

</html>
