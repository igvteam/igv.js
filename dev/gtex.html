<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href=../img/favicon.ico>
    <title>Dev - GTex</title>

    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">

    <!-- IGV CSS -->
    <link rel="stylesheet" type="text/css" href="../css/igv.css">

    <!-- Dev CSS -->
    <link rel="stylesheet" type="text/css" href="../css/dev.css">

    <!-- Vendor JS -->
    <script src="../vendor/jquery-1.12.4.js"></script>
    <script src="../vendor/jquery-ui.js"></script>
    <script src="../vendor/jquery.mousewheel.js"></script>
    <script src="../vendor/underscore.js"></script>
    <script src="../vendor/promise.js"></script>

    <script src="../vendor/zlib_and_gzip.js"></script>
    <script src="../vendor/inflate.js"></script>

    <!-- IGV JS -->
    <script src="../js/bam/coverageMap.js"></script>
    <script src="../js/bam/bamReader.js"></script>
    <script src="../js/bam/bamReaderNonIndexed.js"></script>
    <script src="../js/bam/bgzf.js"></script>
    <script src="../js/bam/bamSource.js"></script>
    <script src="../js/bam/bamTrack.js"></script>
    <script src="../js/bam/bamAlignment.js"></script>
    <script src="../js/bam/bamAlignmentRow.js"></script>
    <script src="../js/bam/bamIndex.js"></script>
    <script src="../js/bam/alignmentContainer.js"></script>
    <script src="../js/bam/pairedAlignment.js"></script>
    <script src="../js/bam/bamUtils.js"></script>
    <script src="../js/bam/bamWebserviceReader.js"></script>
    <script src="../js/bam/htsgetReader.js"></script>

    <script src="../js/bigQuery/ccp.js"></script>

    <script src="../js/bigwig/bufferedReader.js"></script>
    <script src="../js/bigwig/bwReader.js"></script>
    <script src="../js/bigwig/bwSource.js"></script>

    <script src="../js/encode/encodeDataSource.js"></script>

    <script src="../js/feature/featureCache.js"></script>
    <script src="../js/feature/gffHelper.js"></script>
    <script src="../js/feature/featureSource.js"></script>
    <script src="../js/feature/featureParsers.js"></script>
    <script src="../js/feature/tribble.js"></script>
    <script src="../js/feature/featureFileReader.js"></script>
    <script src="../js/feature/customServiceReader.js"></script>
    <script src="../js/feature/aneuSource.js"></script>
    <script src="../js/feature/aneuTrack.js"></script>
    <script src="../js/feature/featureTrack.js"></script>
    <script src="../js/feature/wigTrack.js"></script>
    <script src="../js/feature/featureUtils.js"></script>
    <script src="../js/feature/segParser.js"></script>
    <script src="../js/feature/segTrack.js"></script>

    <script src="../js/ga4gh/ga4ghAlignmentReader.js"></script>
    <script src="../js/ga4gh/ga4ghVariantReader.js"></script>
    <script src="../js/ga4gh/ga4ghHelper.js"></script>
    <script src="../js/ga4gh/googleUtils.js"></script>

    <script src="../js/gtex/eqtlTrack.js"></script>
    <script src="../js/gtex/gtexFileReader.js"></script>
    <script src="../js/gtex/gtexReader.js"></script>
    <script src="../js/gtex/gtex.js"></script>
    <script src="../js/gtex/immvarReader.js"></script>

    <script src="../js/gwas/t2dVariantSource.js"></script>
    <script src="../js/gwas/gwasTrack.js"></script>

    <script src="../js/karyo/karyo.js"></script>

    <script src="../js/oauth/google.js"></script>

    <script src="../js/tdf/tdfReader.js"></script>
    <script src="../js/tdf/tdfSource.js"></script>

    <script src="../js/ui/trackMenuPopupDialog.js"></script>
    <script src="../js/ui/dataRangeDialog.js"></script>
    <script src="../js/ui/dialog.js"></script>
    <script src="../js/ui/alertDialog.js"></script>
    <script src="../js/ui/centerGuide.js"></script>
    <script src="../js/ui/userFeedback.js"></script>
    <script src="../js/ui/alertDialog.js"></script>
    <script src="../js/ui/popover.js"></script>
    <script src="../js/ui/chromosomeSelectWidget.js"></script>

    <script src="../js/variant/vcfParser.js"></script>
    <script src="../js/variant/variant.js"></script>
    <script src="../js/variant/variantTrack.js"></script>

    <script src="../js/sampleInformation.js"></script>
    <script src="../js/igv-create.js"></script>
    <script src="../js/browser.js"></script>
    <script src="../js/ideogram.js"></script>
    <script src="../js/windowSizePanel.js"></script>
    <script src="../js/referenceFrame.js"></script>
    <script src="../js/igv-canvas.js"></script>
    <script src="../js/genome.js"></script>
    <script src="../js/trackView.js"></script>
    <script src="../js/viewport.js"></script>

    <script src="../js/rulerTrack.js"></script>
    <script src="../js/rulerSweeper.js"></script>

    <script src="../js/igv-math.js"></script>
    <script src="../js/igv-color.js"></script>
    <script src="../js/igv-utils.js"></script>
    <script src="../js/parseUtils.js"></script>
    <script src="../js/fasta.js"></script>
    <script src="../js/sequenceTrack.js"></script>

    <script src="../js/igv-exts.js"></script>
    <script src="../js/igvxhr.js"></script>
    <script src="../js/binary.js"></script>

    <script src="../js/intervalTree.js"></script>

    <script src="../js/trackCore.js"></script>
    <script src="../js/trackFileLoad.js"></script>

    <script src="../js/set.js"></script>

    <script src="../js/roi.js"></script>
    <script src="../js/roiSource.js"></script>

</head>

<body>

<div id="trackList">
    <div onclick="igv.browser.loadTrack({
                            type: 'eqtl',
                            sourceType: 'gtex-ws',
                            url: 'https://dev.gtexportal.org/rest/v1/association/singleTissueEqtlByLocation',
                            tissueName: 'Adipose_Subcutaneous',
                            name: 'Adipose - Subcutaneous',
                            visibilityWindow: 1000000
                            })">Adipose - Subcutaneous
    </div>
    <div onclick="igv.browser.loadTrack({
                         type: 'eqtl',
                         sourceType: 'gtex-ws',
                         url: 'https://dev.gtexportal.org/rest/v1/association/singleTissueEqtlByLocation',
                         tissueName: 'Brain_Cerebellar_Hemisphere',
                         name: 'Brain - Cerebellar Hemisphere',
                         visibilityWindow: 1000000
                         })">Brain - Cerebellar Hemisphere
    </div>
    <div onclick="igv.browser.loadTrack({
                         type: 'eqtl',
                         sourceType: 'gtex-ws',
                         url: 'https://dev.gtexportal.org/rest/v1/association/singleTissueEqtlByLocation',
                         tissueName: 'Thyroid',
                         name: 'Thyroid',
                         visibilityWindow: 1000000
                         })">Thyroid
    </div>
</div>


<div id="myDiv" style="padding-top: 50px;padding-bottom: 20px; height: auto"></div>

<script type="text/javascript">

    $(document).ready(function () {

        var div,
                options,
                browser;

        div = $("#myDiv")[0];
        options = {
            type: "GTEX",
            showNavigation: true,
            fastaURL: '//s3.amazonaws.com/igv.broadinstitute.org/genomes/seq/hg19/hg19.fasta',
            cytobandURL: '//s3.amazonaws.com/igv.broadinstitute.org/genomes/seq/hg19/cytoBand.txt',
            locus: "chr1:1-50,000,000",
            flanking: 75000,
            search: {
                url: "https://dev.gtexportal.org/rest/v1/reference/features/$FEATURE$",
                resultsField: "features"
            },
            formats: {
                gwasSNPS: {
                    coords: 0,
                    chr: 0,
                    start: 1,
                    end: 2,
                    fields: ["chrom", "chromStart", "chromEnd", "Strongest SNP-risk allele", "Disease/Phenotype", "P-value", "Odds ratio or beta", "PUBMEDID"]
                }
            },
            tracks: [
                {
                    featureType: 'annotation',
                    format: 'gwasSNPS',
                    indexed: false,
                    color: 'rgb(100,200,200)',
                    displayMode: 'EXPANDED',
                    url: '//s3.amazonaws.com/igv.broadinstitute.org/annotations/hg19/gwas/v2_newest_converted_GWAS_catalog_SNPs_Pval5E08_hg19_040115.bed',
                    name: 'GWAS Catalog',
                    order: 9999
                },
                {
                    featureType: 'genes',
                    url: '//s3.amazonaws.com/igv.broadinstitute.org/annotations/hg19/genes/gencode.v18.collapsed.bed',
                    name: 'Genes',
                    order: 10000,
                    displayMode: 'EXPANDED',
                    height: 100,
                    autoHeight: true,
                    removable: false,
                    labelDisplayMode: 'SLANT'
                }
            ]
        };

        browser = igv.createBrowser(div, options);

        // igv.browser.search("psphp1");
    });


</script>

</body>

</html>
