<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>IGV</title>

</head>

<body>

<h1>MUT file example</h1>

<div id="igvDiv" style="padding-top: 50px;padding-bottom: 20px; height: auto"></div>

<script type="module">

    //import igv from "https://cdn.jsdelivr.net/npm/igv@2.7.5/dist/igv.esm.min.js";  //"../../js/index.js";
    import igv from "../js/index.js";

    (async function () {

        const options =
            {
                reference: {
                    "id": "ASM985889v3",
                    "name": "Sars-CoV-2 (ASM985889v3)",
                    "fastaURL": "https://s3.amazonaws.com/igv.org.genomes/covid_ASM985889v3/GCF_009858895.2_ASM985889v3_genomic.fna",
                    "indexURL": "https://s3.amazonaws.com/igv.org.genomes/covid_ASM985889v3/GCF_009858895.2_ASM985889v3_genomic.fna.fai",
                },

                tracks: [
                    {
                        format: 'mut',
                        type: 'mut',
                        url: '../Downloads/mutfile.txt',
                        height: 700,
                        displayMode: "EXPANDED"
                    },
                    {
                        "name": "Annotations",
                        "url": "https://s3.amazonaws.com/igv.org.genomes/covid_ASM985889v3/GCF_009858895.2_ASM985889v3_genomic.gff.gz",
                        "displayMode": "EXPANDED",
                        "nameField": "gene",
                        "height": 150
                    }
                ]
            }

        const igvDiv = document.getElementById("igvDiv");

        igv.createBrowser(igvDiv, options)
            .then(function (browser) {
                console.log("Created IGV browser");
            })
    })();

</script>

</body>

</html>
