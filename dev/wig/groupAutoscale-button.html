<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="https://igv.org/web/img/favicon.ico">

    <title>igv.js</title>

</head>


<body>

<h1>Group Autoscale</h1>
<button id="loadtracks_button">Load All Tracks</button>
<button id="track1_button">Load Track 1</button>
<button id="track2_button">Load Track 2</button>
<button id="track3_button">Load Track 3</button>

<div id="igv-div" style="padding-top: 50px;padding-bottom: 20px; height: auto"/>
<script type="module">

    import igv from "../../js/index.js"

    const histone_tracks = [
        {
            url: 'https://www.encodeproject.org/files/ENCFF000ASF/@@download/ENCFF000ASF.bigWig',
            name: 'GM12878 H3K4me3',
            color: 'rgb(200,0,0)',
            autoscaleGroup: '1'
        },
        {
            url: 'https://www.encodeproject.org/files/ENCFF000AST/@@download/ENCFF000AST.bigWig',
            name: 'GM12878 H3K4me3',
            color: 'rgb(0,0,150)',
            autoscaleGroup: '1'
        },
        {
            url: 'https://www.encodeproject.org/files/ENCFF000ATA/@@download/ENCFF000ATA.bigWig',
            name: 'rgb(GM12878 H3K4me3)',
            color: 'rgb(0,150,0)',
            autoscaleGroup: '1'
        }
    ]

    const igvDiv = document.getElementById("igv-div")

    const options = {

        locus: ['myc'],
        genome: "hg19"
        //tracks: histone_tracks

    }

    igv.createBrowser(igvDiv, options)
        .then(function (browser) {
            document.getElementById("loadtracks_button").addEventListener("click", () => {
                browser.loadTrackList(histone_tracks)
            })
            document.getElementById("track1_button").addEventListener("click", () => {
                browser.loadTrackList([histone_tracks[0]])
            })
            document.getElementById("track2_button").addEventListener("click", () => {
                browser.loadTrack(histone_tracks[1])
            })
            document.getElementById("track3_button").addEventListener("click", () => {
                browser.loadTrack(histone_tracks[2])
            })
        })


</script>

</body>

</html>
