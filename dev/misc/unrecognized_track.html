<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <link href=https://igv.org/web/img/favicon.ico rel="shortcut icon">
    <title>IGV - Dev</title>

</head>

<body>

<p><input id="fileInput" type="file"></p>
<p><input id="processFileInput" type="button" value="Load Track"></p>

<div id="myDiv" style="padding-top: 50px;padding-bottom: 20px; height: auto"></div>

<script type="module">

    import igv from '../../js/index.js'

    const config =
        {
            genome: "hg19",
            locus: "myc",
            tracks:
                [
                ]
        };

    const browser = await igv.createBrowser(document.getElementById('myDiv'), config)

    document.getElementById('processFileInput').addEventListener('click', processFile)

    async function processFile() {
        const [ file ] = document.getElementById('fileInput').files
        await browser.loadTrackList([{ url: file }])
        // await browser.loadTrackList([{ url: 'https://www.dropbox.com/scl/fi/sq0ibmns1jkmrgxyqcm3d/spleen_1chr1rep.cndb?rlkey=5z7wx5zl5txn3u1plrnzxf096&st=szhkuj6f&dl=0' }])
    }


</script>

</body>

</html>

