<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="Jim Robinson" name="author">
    <link href=img/favicon.ico rel="shortcut icon">
    <title>igv.js</title>

    <!-- IGV JS -->
    <script src="../dist/igv.min.js"></script>

</head>

<body>

<h1>Segmented Copy Number</h1>

<div style="padding-top: 10px;padding-bottom: 10px;">

    Segmented copy number ("seg" format) with
    <ul>
        <li>No index</li>
        <li>Index with no visibiliy window (loads by whole chromosome)</li>
        <li>Index with visibility window of 100 MB</li>
    </ul>

</div>


<div id="igv-div" style="padding-top: 10px;padding-bottom: 10px; border:1px solid lightgray"></div>

<script type="text/javascript">

    document.addEventListener("DOMContentLoaded", function () {

        const version = igv.version();
        console.log("Using IGV version: " + version);

        const igvDiv = document.getElementById("igv-div");
        const options =
            {
                genome: "hg19",
                showSampleNames: true,
                tracks: [
                    {
                        name: "Segmented Copy Number",
                        type: "seg",
                        format: "seg",
                        url: "https://s3.amazonaws.com/igv.org.demo/GBM-TP.seg.gz",
                    },
                    {
                        name: "Indexed",
                        type: "seg",
                        format: "seg",
                        url: "https://s3.amazonaws.com/igv.org.demo/GBM-TP.seg.gz",
                        indexURL: "https://s3.amazonaws.com/igv.org.demo/GBM-TP.seg.gz.tbi"
                    },
                    {
                        name: "Indexed with visibility window",
                        type: "seg",
                        format: "seg",
                        url: "https://s3.amazonaws.com/igv.org.demo/GBM-TP.seg.gz",
                        indexURL: "https://s3.amazonaws.com/igv.org.demo/GBM-TP.seg.gz.tbi",
                        visibilityWindow: "100000000"
                    },
                ]
            };


        igv.createBrowser(igvDiv, options)
            .then(function (browser) {
                console.log("Created IGV browser");
            })
    })

</script>

</body>

</html>
